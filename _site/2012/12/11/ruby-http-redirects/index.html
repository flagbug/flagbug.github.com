<p>I&#39;m currently experimenting with ruby and one thing I needed to do, was retrieving the content of an external website.</p>

<p>My first approach to this was using the <code>Net::Http.get</code> method. 
<strong>The problem:</strong> this doesn&#39;t follow redirects.</p>

<p>My second approach was a more complicated version that catches a redirect and requests the content again with the redirect url.</p>

<p><a href="http://www.ruby-doc.org/stdlib-1.9.3/libdoc/net/http/rdoc/Net/HTTP.html">Taken from the ruby docs</a>
<script src="https://gist.github.com/4258731.js?file=fetch.rb"></script></p>

<p><strong>The problem:</strong> If the website redirects to https, it will fail with a <a href="http://www.ruby-doc.org/stdlib-1.9.3/libdoc/net/http/rdoc/Net/HTTPBadRequest.html">400 HttpBadRequest</a>. </p>

<h2>Solution</h2>

<p>After a bit of research, I stumbled over the <a href="https://rubygems.org/gems/httpclient">httpclient</a> gem.</p>

<script src="https://gist.github.com/4258731.js?file=httpclient.rb"></script>

<p>Well, this looks much better!</p>
